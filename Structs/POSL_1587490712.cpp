#include<iostream>
#include<iomanip>

using namespace std;

//
//???????? ??????? : ?????? ? ??????? ?? ??????
//1. ???????? ??? ????????? : Factory ? Worker
//2. ?????? ????? ?????? ????????? ??????,
//??????? ???????? ? ???? ?????? ??????? ?? ???? ?????? ? ???????? ??????.
//3. ?????? ??????? ????? ????????? ?????? :
//3.1 ???
//3.2 ???????
//3.3 ?????????????
//3.4 ????????
//4. ????????? ?????? ??????? ????????? ?????????? ?? ??????
//????????????? ??? ??????? ?????? ? ??????????? :
//4.1 ???????? ????????????? ? ????? ??????? ??????? ? ??????? ????????
//???????.
const int workerQuantity = 2;

struct Worker
{
	char workerName[20];
	unsigned int age;
	char workerSpecialty[20];
	unsigned int workerPay;
};

struct Factory
{
	char factoryName[20];
	Worker set[workerQuantity];
};


int main()
{
	double middlePay, middleAge;
	int quantity;
	cout << "Enter quantity of factories\n";
	cin >> quantity;

	Factory** arr = new Factory * [quantity];

	for (size_t i = 0; i < quantity; i++)
	{
		arr[i] = new Factory;

		cout << "Enter name factory\n";
		cin >> arr[i]->factoryName;

		for (size_t j = 0; j < workerQuantity; j++)
		{
			cout << "Enter name of workers\n";
			cin >> arr[i]->set[j].workerName;

			cout << "Enter age of workers\n";
			cin >> arr[i]->set[j].age;

			cout << "Enter specialization of workers\n";
			cin >> arr[i]->set[j].workerSpecialty;

			cout << "Enter wage of workers\n";
			cin >> arr[i]->set[j].workerPay;
		}
	}

	for (size_t i = 0, b = 1; i < quantity; i++, b++) {

		middlePay = 0, middleAge = 0;
		cout << "\n*****************************\n";
		cout << "\n" << b << ") " << " Name of factory\t";
		cout << arr[i]->factoryName << endl;

		cout << "\n\nName\t\t\tAge\t\t\tSpecial\t\t\tSalary\n";

		for (size_t j = 0; j < workerQuantity; j++) {

			middleAge += arr[i]->set[j].age;
			middlePay += arr[i]->set[j].workerPay;

			cout << arr[i]->set[j].workerName << "\t\t\t";
			cout << arr[i]->set[j].age << "\t\t\t";
			cout << arr[i]->set[j].workerSpecialty << "\t\t\t";
			cout << arr[i]->set[j].workerPay << "\n";
		}
		cout << "\nMiddle wage of workers =   " << middlePay / workerQuantity << " $ \n";
		cout << "Middle age  of workers =   " << middleAge / workerQuantity << " year \n";
		cout << "\n*****************************";
	}

	for (size_t i = 0; i < quantity; i++)
	{
		delete arr[i];
	}

	delete[] arr;
}
